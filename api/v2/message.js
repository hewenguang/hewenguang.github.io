(()=>{"use strict";function n(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}var e,t=function(){function e(n,t,o){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=utils.isPlainObject(t)?t:{},c=utils.isNumber(t)?t:i.duration,s=utils.isFunction(t)?t:o;this._option=Object.assign(i,{close:s,content:n,duration:c}),this.handleClickEvent=this.handleClick.bind(this),this.open()}var t,o,i;return t=e,(o=[{key:"handleClick",value:function(){this._option.onClose&&this._option.onClose(),this.close()}},{key:"_createContent",value:function(){var n="<div>".concat(this._option.content,"</div>");return this._option.icon&&(n+='<div class="cc-message-icon">'.concat(this._option.icon,"</div>")),this._option.onClose&&(n+='<button cc-action="cc-message-button" class="cc-message-button">我知道了</button>'),n}},{key:"open",value:function(){var n=this;this.container=dom.create("div",{innerHTML:this._createContent(),className:"\n        cc-message\n        ".concat(this._option.icon?" cc-message-hasicon":"","\n        ").concat(this._option.className?" "+this._option.className:"","\n        ").concat(this._option.loading?" cc-message-loading":"","\n      ")}),document.documentElement.appendChild(this.container),utils.isNumber(this._option.duration)&&setTimeout((function(){n.close()}),this._option.duration),app.addAction("cc-message-button",this.handleClickEvent)}},{key:"close",value:function(){dom.remove(this.container),app.removeAction("cc-message-button",this.handleClickEvent)}}])&&n(t.prototype,o),i&&n(t,i),e}(),o=dom.create("style",{title:"cc-stylesheet",textContent:"\n    @keyframes circle-loading{\n      100%{\n        transform: rotate(1turn);\n      }\n    }\n    .cc-message{\n      right: 20px;\n      top: 20px;\n      z-index:1000;\n      position: fixed;\n      font-size: 15px;\n      border-radius: 4px;\n      padding: 10px 16px;\n      background-color:#fff;\n      box-shadow: 0px 0px 6px #e2e2e2;\n      color: rgb(var(--cc-color-red), var(--cc-color-green), var(--cc-color-blue));\n    }\n    .cc-message-hasicon{\n      padding: 10px 16px 10px 40px;\n    }\n    .cc-message-icon{\n      position: absolute;\n      left: 14px;\n      top: 10px;\n    }\n    .cc-message-icon svg{\n      width: 22px;\n      height: 22px;\n      fill:rgb(var(--cc-color-red), var(--cc-color-green), var(--cc-color-blue));\n    }\n    .cc-message-loading .cc-message-icon svg{\n      animation: circle-loading 1s linear infinite;\n    }\n    .cc-message-button{\n      cursor: pointer;\n      margin-top: 10px;\n      float: right;\n      border: 0;\n      padding: 0px 7px;\n    }\n  "});document.head.appendChild(o),app.addAction("message",(function(n,o){e=new t(n,o)})),app.addAction("message-close",(function(){e&&e.close(),e=null})),app.addAction("error",(function(n){new t(n,3e3)}))})();